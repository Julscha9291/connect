<VirtualHost *:80>
    ServerName connect.julianschaepermeier.com
    Redirect permanent / https://connect.julianschaepermeier.com/
</VirtualHost>

<VirtualHost *:443>
    ServerName connect.julianschaepermeier.com
    DocumentRoot /home/coding/connect/connect

    Alias /static/ /home/coding/connect/connect/staticfiles/
    <Directory /home/coding/connect/connect/staticfiles>
        Require all granted
    </Directory>

    <Directory /home/coding/connect/connect>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    # Hier wird der Proxy auf den Django-Container umgeleitet
#    ProxyPass / http://172.17.0.1:8002/
#ProxyPassReverse / http://172.17.0.1:8002/

    # Proxy für WebSockets
 #   ProxyPass /ws/ http://172.17.0.1:8002/ws/
  #  ProxyPassReverse /ws/ http://172.17.0.1:8002/ws/


# ProxyPass /static/ http://172.17.0.1:80/static/
# ProxyPassReverse /static/ http://172.17.0.1:80/static/

    # WSGIDaemonProcess kann hier möglicherweise weggelassen werden, da du Docker verwendest
    # WSGIDaemonProcess connect python-home=/home/coding/connect/connect/venv python-path=/home/coding/connect/connect
    # WSGIProcessGroup connect
    # WSGIScriptAlias / /home/coding/connect/connect/wsgi.py
    # WSGIPassAuthorization On


    WSGIDaemonProcess connect python-home=/app/venv python-path=/app
    WSGIScriptAlias / /app/wsgi.py
    WSGIPassAuthorization On


    <Directory /home/coding/connect>
        Require all granted
    </Directory>

    SSLEngine on
    SSLProtocol +TLSv1.2 +TLSv1.3
    SSLCertificateFile /etc/ssl/certs/julianschaepermeier.com_ssl_certificate.pem
    SSLCertificateKeyFile /etc/ssl/private/_.julianschaepermeier.com_private_key.key
    SSLCertificateChainFile /etc/ssl/certs/intermediate1.pem
</VirtualHost>